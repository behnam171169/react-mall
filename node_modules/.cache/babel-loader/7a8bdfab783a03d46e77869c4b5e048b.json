{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\my-app\\\\src\\\\components\\\\pages\\\\postdetails\\\\postdetails.js\";\nimport React, { Component, useContext, useEffect, useState } from 'react';\nimport './postdetails.css';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { IconContext } from \"react-icons\";\nimport { MdShoppingCart } from \"react-icons/md\";\nimport { FaPlus, FaMinus } from \"react-icons/fa\";\nimport { mainContext } from './../../../context/mainContext';\nimport Spiner from './../../spinner/spinner';\n\nconst Postdetails = props => {\n  // const admin2=localStorage.getItem('admin');\n  // const admin=JSON.parse(admin2)\n  // const userid2=localStorage.getItem('user');\n  // const  userid=JSON.parse(userid2)\n  co;\n  const {\n    login,\n    admin\n  } = useContext(mainContext);\n  const [postsdetail, setpostsdetail] = useState([]);\n  const [comments, setcomments] = useState([]);\n  const [id, setid] = useState(props.location.state.id);\n  console.log(id, 'pppppp'); // console.log(postsdetail.color,'gghhhhgghhh')\n\n  const [number, setnumber] = useState(1);\n  const [showspiner, setShowspiner] = useState(false);\n\n  const plusnumber = () => {\n    setnumber(number + 1);\n  };\n\n  const subtractnumber = () => {\n    if (number > 1) setnumber(number - 1);\n  };\n\n  const changenumber = event => {\n    setnumber(event.target.value);\n  };\n\n  const logOut = () => {\n    localStorage.removeItem('admin');\n  };\n\n  const deletcomment = id => {\n    axios.delete(`http://localhost:3000/admin/commentsdelete/${id}`, {}).then(response => {\n      if (response.status == 200) {\n        window.location.reload({\n          forcedReload: true\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    setShowspiner(true);\n    axios.get(`http://localhost:3000/detail/${id}`, {}).then(response => {\n      if (response.status == 200) {\n        setShowspiner(false);\n        setpostsdetail(response.data[0]);\n      } else if (response.status == 400) {\n        setShowspiner(false);\n        alert('جزییات موجود نمی باشد');\n      } else if (response.status == 500) {\n        setShowspiner(true);\n        alert('خطا در ارتباط با سرور');\n      }\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(`http://localhost:3000/comments/${id}`, {}).then(response => {\n      if (response.status == 200) {\n        setcomments(response.data);\n      }\n    });\n  }, []);\n\n  const buy = () => {\n    if (login == false) {\n      Swal.fire({\n        title: 'ابتدا به حساب کاربری خود وارد شوید',\n        icon: 'warning',\n        confirmButtonText: 'متوجه شدم'\n      });\n    } else {\n      const dataa = {\n        id: id,\n        number: number,\n        userid: userid\n      };\n      const data = JSON.stringify(dataa);\n      axios.post('http://localhost:3000/buys', data, {}).then(response => {\n        if (response.status == 200) {\n          Swal.fire({\n            title: 'کالای مورد نظر به سبدخرید شما اضافه شد',\n            icon: 'success',\n            confirmButtonText: 'متوجه شدم'\n          });\n        }\n      });\n    }\n  };\n\n  const buyicon = React.createElement(IconContext.Provider, {\n    value: {\n      color: '#F79F1F',\n      size: '25px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(MdShoppingCart, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }));\n  return React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: showspiner ? 'flex' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(Spiner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"mainpostdetails\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://www.beytoote.com/images/stories/housekeeping/hou16389.jpg\",\n    className: \"postdetailimage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"detailpost\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    style: {\n      marginBottom: 40,\n      color: 'green',\n      fontWeight: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"   \\u0646\\u0627\\u0645 \\u06A9\\u0627\\u0644\\u0627:   \"), React.createElement(\"text\", {\n    style: {\n      marginLeft: 5,\n      marginRight: 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, postsdetail.title)), React.createElement(\"text\", {\n    style: {\n      display: ('' + postsdetail.memorys).length < 1 ? 'none' : 'flex'\n    },\n    className: \"datadetailtext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"\\u062D\\u0627\\u0641\\u0638\\u0647 \\u062F\\u0627\\u062E\\u0644\\u06CC:\", postsdetail.memorys), React.createElement(\"text\", {\n    style: {\n      display: ('' + postsdetail.color).length < 1 ? 'none' : 'flex'\n    },\n    className: \"datadetailtext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"\\u0631\\u0646\\u06AF:\", postsdetail.color), React.createElement(\"text\", {\n    style: {\n      display: ('' + postsdetail.weight).length < 1 ? 'none' : 'flex'\n    },\n    className: \"datadetailtext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"\\u0648\\u0632\\u0646:\", postsdetail.weight), React.createElement(\"text\", {\n    style: {\n      display: ('' + postsdetail.country).length < 1 ? 'none' : 'flex'\n    },\n    className: \"datadetailtext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"\\u06A9\\u0634\\u0648\\u0631 \\u0633\\u0627\\u0632\\u0646\\u062F\\u0647:\", postsdetail.country), React.createElement(\"text\", {\n    style: {\n      display: ('' + postsdetail.garantis).length < 1 ? 'none' : 'flex'\n    },\n    className: \"datadetailtext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"\\u06AF\\u0627\\u0631\\u0627\\u0646\\u062A\\u06CC:\", postsdetail.garantis), React.createElement(\"text\", {\n    style: {\n      display: ('' + postsdetail.numberinpuckets).length < 1 ? 'none' : 'flex'\n    },\n    className: \"datadetailtext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"\\u062A\\u0639\\u062F\\u0627\\u062F \\u062F\\u0631 \\u0628\\u0633\\u062A\\u0647:\", postsdetail.numberinpuckets), React.createElement(\"text\", {\n    style: {\n      marginBottom: 15,\n      color: 'green',\n      fontWeight: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \"\\u062A\\u0648\\u0636\\u06CC\\u062D\\u0627\\u062A:\"), React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, postsdetail.explains)), React.createElement(\"div\", {\n    className: \"buypost\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    style: {\n      color: 'green',\n      fontWeight: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, \"\\u0641\\u0631\\u0648\\u0634\\u0646\\u062F\\u0647: behkala\"), React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      marginTop: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    style: {\n      marginBottom: 40,\n      color: 'green',\n      fontWeight: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \" \\u0642\\u06CC\\u0645\\u062A: \"), React.createElement(\"text\", {\n    style: {\n      marginRight: 5,\n      marginLeft: 5,\n      color: 'red'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, postsdetail.prices), React.createElement(\"text\", {\n    style: {\n      marginBottom: 40,\n      color: 'green',\n      fontWeight: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \" \\u062A\\u0648\\u0645\\u0627\\u0646    \")), React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"changenumber\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"\\u062A\\u0639\\u062F\\u0627\\u062F:\"), React.createElement(IconContext.Provider, {\n    value: {\n      color: '#F79F1F',\n      size: '25px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(FaPlus, {\n    onClick: plusnumber,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    onChange: changenumber,\n    value: number,\n    className: \"inputnumber\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }), React.createElement(IconContext.Provider, {\n    value: {\n      color: '#F79F1F',\n      size: '25px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, React.createElement(FaMinus, {\n    onClick: subtractnumber,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }))), React.createElement(\"button\", {\n    onClick: buy,\n    className: \"buttonbuy\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, buyicon), \"\\u0627\\u0641\\u0632\\u0648\\u062F\\u0646 \\u0628\\u0647 \\u0633\\u0628\\u062F \\u062E\\u0631\\u06CC\\u062F\")))), React.createElement(\"div\", {\n    className: \"maintalk\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"talk\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"talkcreate\",\n    to: {\n      pathname: \"/createcomment\",\n      state: {\n        id: props.location.state.id\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"\\u062B\\u0628\\u062A \\u0646\\u0638\\u0631\"), React.createElement(\"text\", {\n    className: \"talktext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, \"\\u0646\\u0638\\u0631\\u0627\\u062A\")), React.createElement(\"div\", {\n    className: \"maincomments\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, comments.map(comment => React.createElement(\"div\", {\n    className: \"comments\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"commentname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, comment.name)), React.createElement(\"text\", {\n    className: \"commenttext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, comment.comment), React.createElement(\"button\", {\n    style: {\n      display: admin ? 'flex' : 'none'\n    },\n    className: \"admincommentdelet\",\n    onClick: () => deletcomment(comment._id),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, \"\\u062D\\u0630\\u0641\"))))));\n};\n\nexport default Postdetails;","map":{"version":3,"sources":["C:/wamp64/www/my-app/src/components/pages/postdetails/postdetails.js"],"names":["React","Component","useContext","useEffect","useState","Swal","axios","Link","IconContext","MdShoppingCart","FaPlus","FaMinus","mainContext","Spiner","Postdetails","props","co","login","admin","postsdetail","setpostsdetail","comments","setcomments","id","setid","location","state","console","log","number","setnumber","showspiner","setShowspiner","plusnumber","subtractnumber","changenumber","event","target","value","logOut","localStorage","removeItem","deletcomment","delete","then","response","status","window","reload","forcedReload","get","data","alert","buy","fire","title","icon","confirmButtonText","dataa","userid","JSON","stringify","post","buyicon","color","size","display","flexDirection","marginBottom","fontWeight","marginLeft","marginRight","memorys","length","weight","country","garantis","numberinpuckets","explains","marginTop","prices","alignItems","pathname","map","comment","name","_id"],"mappings":"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","sourcesContent":["import React, { Component,useContext,useEffect,useState} from 'react';\r\nimport './postdetails.css'\r\nimport Swal from 'sweetalert2'\r\nimport axios from 'axios';\r\nimport {Link} from 'react-router-dom';\r\nimport { IconContext } from \"react-icons\";\r\nimport { MdShoppingCart} from \"react-icons/md\";\r\nimport { FaPlus,FaMinus } from \"react-icons/fa\";\r\nimport {mainContext} from './../../../context/mainContext';\r\nimport Spiner from './../../spinner/spinner';\r\nconst Postdetails=(props)=>{\r\n  \r\n  // const admin2=localStorage.getItem('admin');\r\n  // const admin=JSON.parse(admin2)\r\n// const userid2=localStorage.getItem('user');\r\n// const  userid=JSON.parse(userid2)\r\nco\r\n  const {login,admin}=useContext(mainContext);\r\n  const [postsdetail, setpostsdetail] = useState([])\r\n  const[comments,setcomments]=useState([]);\r\n  const [id,setid]=useState(props.location.state.id);\r\n  console.log(id,'pppppp')\r\n  // console.log(postsdetail.color,'gghhhhgghhh')\r\n  const[number,setnumber]=useState(1);\r\n  const [showspiner,setShowspiner]=useState(false);\r\n  const plusnumber=()=>{\r\n    setnumber(number+1)\r\n  }\r\n  const subtractnumber=()=>{\r\n    if(number >1)\r\n    setnumber(number-1)\r\n  }\r\n  const changenumber=(event)=>{\r\n    setnumber(event.target.value)\r\n  }\r\n  const logOut=()=>{\r\n    localStorage.removeItem('admin')\r\n  }\r\n  const deletcomment=(id)=>{\r\n    axios.delete(`http://localhost:3000/admin/commentsdelete/${id}`, { \r\n  })\r\n  .then((response)=>{\r\n    if(response.status==200){\r\n      window.location.reload({forcedReload:true});\r\n    }\r\n  })\r\n}\r\nuseEffect(() => {\r\n  \r\n  setShowspiner(true)\r\n  axios.get(`http://localhost:3000/detail/${id}`, { \r\n})\r\n.then((response)=>{\r\n  if(response.status==200){\r\n    setShowspiner(false)\r\n    setpostsdetail(response.data[0])\r\n  }else if(response.status==400){\r\n    setShowspiner(false)\r\n    alert('جزییات موجود نمی باشد')\r\n  }else if(response.status==500){\r\n    setShowspiner(true)\r\n    alert('خطا در ارتباط با سرور')\r\n  }\r\n}\r\n\r\n)\r\n},[])\r\n\r\nuseEffect(() => {\r\n  axios.get(`http://localhost:3000/comments/${id}`, { \r\n})\r\n.then((response)=>{\r\n  if(response.status==200){\r\n    setcomments(response.data)\r\n    \r\n  }\r\n}\r\n)\r\n},[])\r\nconst buy=()=>{\r\n  if(login == false){\r\n    Swal.fire({\r\n      title: 'ابتدا به حساب کاربری خود وارد شوید',\r\n      icon: 'warning',\r\n      confirmButtonText: 'متوجه شدم',\r\n    })\r\n  }else{\r\n    \r\n    const  dataa={\r\n      id:id,\r\n      number:number,\r\n      userid:userid\r\n    }\r\n    const data=JSON.stringify(dataa);\r\n    axios.post('http://localhost:3000/buys',data, { \r\n  })\r\n  .then((response)=>{\r\n    if(response.status==200){\r\n      Swal.fire({\r\n        title: 'کالای مورد نظر به سبدخرید شما اضافه شد',\r\n        icon: 'success',\r\n        confirmButtonText: 'متوجه شدم',\r\n      })\r\n      \r\n    }\r\n  }\r\n  )\r\n}}\r\nconst buyicon=\r\n<IconContext.Provider\r\nvalue={{ color: '#F79F1F', size: '25px'}}>\r\n<MdShoppingCart  /> \r\n</IconContext.Provider>;\r\n\r\nreturn(\r\n  <div style={{display:'flex',flexDirection:'column'}}>\r\n  <div style={{display:showspiner?'flex':'none'}}>\r\n  <Spiner/>\r\n  </div>\r\n  <div className=\"mainpostdetails\">\r\n  \r\n  \r\n  <img src=\"https://www.beytoote.com/images/stories/housekeeping/hou16389.jpg\" className=\"postdetailimage\" />\r\n  <div className=\"detailpost\">\r\n  <div style={{display:'flex'}}>\r\n  <text style={{marginBottom:40,color:'green',fontWeight:500}}>   نام کالا:   </text>\r\n  <text style={{marginLeft:5,marginRight:5}}>{postsdetail.title}</text>\r\n  </div>\r\n  <text style={{display:(''+postsdetail.memorys).length<1?'none':'flex'}}   className=\"datadetailtext\">حافظه داخلی:{postsdetail.memorys}</text>\r\n  <text style={{display:(''+postsdetail.color).length<1?'none':'flex'}}  className=\"datadetailtext\">رنگ:{postsdetail.color}</text>\r\n  <text style={{display:(''+postsdetail.weight).length<1?'none':'flex'}}  className=\"datadetailtext\">وزن:{postsdetail.weight}</text>\r\n  <text style={{display:(''+postsdetail.country).length<1?'none':'flex'}}  className=\"datadetailtext\">کشور سازنده:{postsdetail.country}</text>\r\n  <text style={{display:(''+postsdetail.garantis).length<1?'none':'flex'}}  className=\"datadetailtext\">گارانتی:{postsdetail.garantis}</text>\r\n  <text style={{display:(''+postsdetail.numberinpuckets).length<1?'none':'flex'}}  className=\"datadetailtext\">تعداد در بسته:{postsdetail.numberinpuckets}</text>\r\n  \r\n  <text style={{marginBottom:15,color:'green',fontWeight:500}}>توضیحات:</text>\r\n  <text>{postsdetail.explains}</text>\r\n  </div>\r\n  \r\n  \r\n  <div className=\"buypost\">\r\n  <text style={{color:'green',fontWeight:500}}>فروشنده: behkala</text>\r\n  <div style={{display:'flex',marginTop:20}}>\r\n  \r\n  <text style={{marginBottom:40,color:'green',fontWeight:500}}> قیمت: </text>\r\n  <text style={{marginRight:5,marginLeft:5,color:'red'}}>{postsdetail.prices}</text>\r\n  <text style={{marginBottom:40,color:'green',fontWeight:500}}> تومان    </text>\r\n  \r\n  </div>\r\n  <div style={{display:'flex',flexDirection:'column',alignItems:'center'}}>\r\n  <div className=\"changenumber\" >\r\n  <text>تعداد:</text>\r\n  \r\n  <IconContext.Provider\r\n  value={{ color: '#F79F1F', size: '25px'}}>\r\n  <FaPlus  onClick={plusnumber} /> \r\n  </IconContext.Provider>\r\n  <input onChange={changenumber} value={number} className=\"inputnumber\"/>\r\n  <IconContext.Provider\r\n  value={{ color: '#F79F1F', size: '25px'}}>\r\n  <FaMinus   onClick={subtractnumber}/> \r\n  </IconContext.Provider>\r\n  </div>\r\n  <button onClick={buy} className=\"buttonbuy\"><text>{buyicon}</text>افزودن به سبد خرید</button>\r\n  </div>\r\n  </div>\r\n  \r\n  </div>\r\n  <div className=\"maintalk\">\r\n  <div className=\"talk\" >\r\n  <Link className=\"talkcreate\"  to={{\r\n    pathname: \"/createcomment\",\r\n    state: {\r\n      id:props.location.state.id\r\n    }\r\n  }}>ثبت نظر</Link>\r\n  <text  className=\"talktext\">نظرات</text>\r\n  \r\n  </div>\r\n  \r\n  <div className=\"maincomments\">\r\n  {comments.map((comment)=>\r\n    <div className=\"comments\">\r\n    \r\n    <div className=\"commentname\">\r\n    <text>{comment.name}</text>\r\n    </div>\r\n    <text className=\"commenttext\">{comment.comment}</text>\r\n    \r\n    <button style={{display:admin ?'flex':'none'}} className=\"admincommentdelet\" onClick={()=>deletcomment(comment._id)}>حذف</button>\r\n    </div>\r\n    )}\r\n    \r\n    </div>\r\n    \r\n    </div>\r\n    \r\n    </div>\r\n    )\r\n  }\r\n  export default Postdetails;\r\n  "]},"metadata":{},"sourceType":"module"}