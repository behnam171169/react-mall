{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\my-app\\\\src\\\\components\\\\pages\\\\pay\\\\pay.js\";\nimport React, { Component, useEffect, useContext, useState } from 'react';\nimport './pay.css';\nimport { mainContext } from './../../../context/mainContext';\nimport axios from 'axios';\n\nconst Pay = props => {\n  const {\n    userid\n  } = useContext(mainContext);\n  const {\n    customertowns,\n    customercity,\n    showtown,\n    towns,\n    showcity,\n    citys,\n    show\n  } = useContext(mainContext);\n  const id = localStorage.getItem('user');\n  const [name, setName] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [codemeli, setCodemeli] = useState('');\n  const [codeposti, setCodeposti] = useState('');\n  const [number, setNumber] = useState('');\n  const [addres, setAddres] = useState('');\n  const [sumprices, setsumprices] = useState('');\n  const [errors, seterrors] = useState('');\n\n  const payment = () => {\n    const dataa = {\n      id: id,\n      name: name,\n      price: sumprices,\n      number: number\n    };\n    const data = JSON.stringify(dataa);\n    axios.post('http://localhost:3000/payment', data, {}).then(response => {\n      console.log; // if(response.status==200){\n      //     // res.redirect(`https://www.zarinpal.com/pg/StartPay`);\n      //     props.history.push(`https://www.zarinpal.com/pg/StartPay`)\n      // }\n    });\n  };\n\n  useEffect(() => {\n    axios.get(`http://localhost:3000/user/buys/${id}`, {}).then(response => {\n      // setbuydata(response.data)\n      let allprices = 0;\n      response.data.map(data => {\n        allprices += Number(data.prices) * data.Count;\n      });\n      setsumprices(allprices);\n    });\n  }, []);\n  useEffect(() => {\n    const dataa = {\n      id: userid\n    };\n    const data = JSON.stringify(dataa);\n    axios.get(`http://localhost:3000/getreciverdetails/${id}`, {}).then(response => {\n      console.log(response.data[0], 'jj');\n\n      if (response.status == 200) {\n        setName(response.data[0].name);\n        setLastname(response.data[0].lastname);\n        setCodemeli(response.data[0].codemeli);\n        setCodeposti(response.data[0].codeposti);\n        setNumber(response.data[0].number);\n        setAddres(response.data[0].addres);\n        citys(response.data[0].city);\n        towns(response.data[0].province);\n      }\n    });\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"mainpay\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"paydetail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"payheader\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"\\u062C\\u0632\\u06CC\\u06CC\\u0627\\u062A \\u067E\\u0631\\u062F\\u0627\\u062E\\u062A\")), React.createElement(\"div\", {\n    className: \"payreciver\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"\\u062A\\u062D\\u0648\\u06CC\\u0644 \\u06AF\\u06CC\\u0631\\u0646\\u062F\\u0647:\", name, \" \", lastname), React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"\\u06A9\\u062F \\u0645\\u0644\\u06CC :\", codemeli), React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"\\u06A9\\u062F \\u067E\\u0633\\u062A\\u06CC :\", codeposti), React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, \" \\u0634\\u0645\\u0627\\u0631\\u0647 \\u0647\\u0645\\u0631\\u0627\\u0647 :\", number), React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"\\u0627\\u0633\\u062A\\u0627\\u0646:\", customertowns), React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"\\u0634\\u0647\\u0631:\", customercity), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"\\u0622\\u062F\\u0631\\u0633 \\u062F\\u0642\\u06CC\\u0642:\", addres)), React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"\\u0645\\u0628\\u0644\\u063A:\", sumprices), React.createElement(\"div\", {\n    className: \"mainbutton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"payeditbutton\",\n    onClick: () => props.history.push('/EditCustomerdetail'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"\\u0648\\u06CC\\u0631\\u0627\\u06CC\\u0634 \\u062C\\u0632\\u06CC\\u06CC\\u0627\\u062A\"), React.createElement(\"button\", {\n    className: \"paybutton\",\n    onClick: () => payment(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"\\u067E\\u0631\\u062F\\u0627\\u062E\\u062A\")))));\n};\n\nexport default Pay;","map":{"version":3,"sources":["C:/wamp64/www/my-app/src/components/pages/pay/pay.js"],"names":["React","Component","useEffect","useContext","useState","mainContext","axios","Pay","props","userid","customertowns","customercity","showtown","towns","showcity","citys","show","id","localStorage","getItem","name","setName","lastname","setLastname","codemeli","setCodemeli","codeposti","setCodeposti","number","setNumber","addres","setAddres","sumprices","setsumprices","errors","seterrors","payment","dataa","price","data","JSON","stringify","post","then","response","console","log","get","allprices","map","Number","prices","Count","status","city","province","history","push"],"mappings":"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","sourcesContent":["import React, { Component,useEffect,useContext,useState } from 'react'\r\nimport './pay.css';\r\nimport {mainContext} from './../../../context/mainContext';\r\nimport axios from 'axios';\r\nconst Pay=(props)=>{\r\n    const {userid}=useContext(mainContext)\r\n    const {customertowns,customercity,showtown,towns,showcity,citys,show}=useContext(mainContext)\r\n    const id=localStorage.getItem('user')\r\n    const[name,setName]=useState('');\r\n    const[lastname,setLastname]=useState('');\r\n    const[codemeli,setCodemeli]=useState('');\r\n    const[codeposti,setCodeposti]=useState('');\r\n    const[number,setNumber]=useState('');\r\n    const[addres,setAddres]=useState('');\r\n    const[sumprices,setsumprices]=useState('');\r\n    const[errors, seterrors] = useState('');\r\n    const payment=()=>{\r\n        const  dataa={\r\n            id:id,\r\n            name:name,\r\n            price:sumprices,\r\n            number:number,\r\n            }\r\n           const data=JSON.stringify(dataa);\r\n            axios.post('http://localhost:3000/payment',data, { \r\n            }).then((response)=>{\r\n                console.log\r\n                // if(response.status==200){\r\n                //     // res.redirect(`https://www.zarinpal.com/pg/StartPay`);\r\n                //     props.history.push(`https://www.zarinpal.com/pg/StartPay`)\r\n                // }\r\n            })\r\n    }\r\n    useEffect(()=>{\r\n        axios.get(`http://localhost:3000/user/buys/${id}`, { \r\n        })\r\n        .then((response)=>{\r\n            // setbuydata(response.data)\r\n            let allprices=0;\r\n            response.data.map((data)=>{\r\n              allprices += Number(data.prices)*data.Count; \r\n            })\r\n\r\nsetsumprices(allprices)\r\n        })\r\n    },[]);\r\n    useEffect(()=>{\r\n        const dataa={\r\n            id:userid\r\n        }\r\n    const data=JSON.stringify(dataa);\r\n    axios.get(`http://localhost:3000/getreciverdetails/${id}`,{ \r\n             }).then((response)=>{\r\nconsole.log(response.data[0],'jj')\r\nif(response.status==200){\r\n    setName(response.data[0].name)\r\n    setLastname(response.data[0].lastname)\r\n    setCodemeli(response.data[0].codemeli)\r\n    setCodeposti(response.data[0].codeposti)\r\n    setNumber(response.data[0].number)\r\n    setAddres(response.data[0].addres)\r\n    citys(response.data[0].city)\r\ntowns(response.data[0].province)\r\n}\r\n             })\r\n     },[]);\r\n    return(\r\n        <div className=\"mainpay\">\r\n            <div className=\"paydetail\">\r\n                <div className=\"payheader\">\r\n                    <text>جزییات پرداخت</text>\r\n                </div>\r\n<div className=\"payreciver\">\r\n    <text>تحویل گیرنده:{name} {lastname}</text>\r\n    <text>کد ملی :{codemeli}</text>\r\n    <text>کد پستی :{codeposti}</text>\r\n    <text> شماره همراه :{number}</text>\r\n    <text>استان:{customertowns}</text>\r\n    <text>شهر:{customercity}</text>\r\n<div>\r\n    <text>\r\n آدرس دقیق:{addres}\r\n    </text>\r\n</div>\r\n    <text>مبلغ:{sumprices}</text>\r\n<div className=\"mainbutton\">\r\n<button className=\"payeditbutton\" onClick={()=>props.history.push('/EditCustomerdetail')}>ویرایش جزییات</button>\r\n<button className=\"paybutton\" onClick={()=>payment()}>پرداخت</button>\r\n</div>\r\n\r\n</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Pay;"]},"metadata":{},"sourceType":"module"}