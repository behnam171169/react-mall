{"ast":null,"code":"var _jsxFileName = \"C:\\\\wamp64\\\\www\\\\my-app\\\\src\\\\components\\\\pages\\\\buys\\\\buys.js\";\nimport React, { Component, useContext, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Spinner from './../../spinner/spinner';\nimport { mainContext } from './../../../context/mainContext';\nimport { Stufflistcontext } from './../../../context/stufflistcontext';\nimport { IconContext } from \"react-icons\";\nimport { AiOutlineDelete } from \"react-icons/ai\";\nimport { FaPlus, FaMinus } from \"react-icons/fa\";\nimport Dropdown3 from './../../Dropdown/Dropdown3/Dropdown3';\nimport './buys.css';\n\nconst Buys = props => {\n  const {\n    userid,\n    login\n  } = useContext(mainContext);\n  const [buydata, setbuydata] = useState([]);\n  const [sumprices, setsumprices] = useState('');\n  const [showspinner, setshowspinner] = useState(false);\n  const {\n    changesearchbar,\n    modal\n  } = useContext(Stufflistcontext);\n  const id = localStorage.getItem('user'); //  console.log(id,'pppoooo')\n\n  useEffect(() => {\n    axios.get(`http://localhost:3000/user/buys/${id}`, {}).then(response => {\n      setbuydata(response.data.BUY); // let allprices=0;\n      // response.data.map((data)=>{\n      //   allprices += Number(data.prices)*data.Count; \n      // })\n\n      setsumprices(response.data.allprices);\n    });\n  }, []);\n\n  const plusnumber = ({\n    userid,\n    idpost\n  }) => {\n    setshowspinner(true);\n    const dataa = {\n      id: idpost\n    };\n    const data = JSON.stringify(dataa);\n    axios.put(`http://localhost:3000/user/buys/plus/${userid}`, data, {}).then(response => {\n      if (response.status == 200) {\n        setshowspinner(false);\n        window.location.reload({\n          forcedReload: true\n        });\n      } else {\n        setshowspinner(false);\n      }\n    });\n  };\n\n  const subtractnumber = ({\n    userid,\n    idpost\n  }) => {\n    setshowspinner(true);\n    const dataa = {\n      id: idpost\n    };\n    const data = JSON.stringify(dataa);\n    axios.put(`http://localhost:3000/user/buys/subtract/${userid}`, data, {}).then(response => {\n      console.log(response, 'aaa');\n\n      if (response.status == 200) {\n        setshowspinner(false);\n        window.location.reload({\n          forcedReload: true\n        });\n      } else {\n        setshowspinner(false);\n      }\n    });\n  };\n\n  const deletebuy = ({\n    userid,\n    idpost\n  }) => {\n    setshowspinner(true);\n    const dataa = {\n      id: idpost\n    };\n    const data = JSON.stringify(dataa);\n    axios.delete(`http://localhost:3000/user/buys/delete/${userid}`, {\n      headers: {\n        \"id\": idpost\n      }\n    }).then(response => {\n      if (response.status == 200) {\n        setshowspinner(false);\n        window.location.reload(true);\n      } else {\n        setshowspinner(false);\n      }\n    });\n  };\n\n  const customer = () => {\n    props.history.push('/customerdetail');\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      opacity: modal ? '0' : '1',\n      zIndex: 1,\n      marginTop: 60\n    },\n    className: \"dropdownmenu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(Dropdown3, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    style: {\n      display: login ? 'flex' : 'none'\n    },\n    className: \"mainbuys\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      display: buydata.length < 1 ? 'flex' : 'none',\n      marginTop: 100,\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"\\u0633\\u0628\\u062F\\u062E\\u0631\\u06CC\\u062F \\u0634\\u0645\\u0627 \\u062E\\u0627\\u0644\\u06CC\\u0633\\u062A\")), React.createElement(\"div\", {\n    className: \"spiner\",\n    style: {\n      opacity: showspinner ? 1 : 0\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(Spinner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), buydata.map(data => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"buydetail\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"mainimagebuy\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"https://www.beytoote.com/images/stories/housekeeping/hou16389.jpg\",\n    className: \"buysImage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"buystitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    className: \"buytitletext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \" \", React.createElement(\"span\", {\n    style: {\n      color: '#44bd32',\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, \"\\u0646\\u0627\\u0645 \\u06A9\\u0627\\u0644\\u0627:\"), data.title), React.createElement(\"text\", {\n    style: {\n      display: data.color.length < 1 ? 'none' : 'flex'\n    },\n    className: \"buytitletext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      color: '#44bd32',\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"\\u0631\\u0646\\u06AF:\"), data.color), React.createElement(\"text\", {\n    style: {\n      display: data.weight.length < 1 ? 'none' : 'flex'\n    },\n    className: \"buytitletext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      color: '#44bd32',\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"\\u0648\\u0632\\u0646:\"), data.weight), React.createElement(\"text\", {\n    style: {\n      display: data.memorys.length < 1 ? 'none' : 'flex'\n    },\n    className: \"buytitletext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      color: '#44bd32',\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"\\u062D\\u0627\\u0641\\u0638\\u0647:\"), data.memorys), React.createElement(\"text\", {\n    style: {\n      display: data.numberinpuckets.length < 1 ? 'none' : 'flex'\n    },\n    className: \"buytitletext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      color: '#44bd32',\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"\\u062A\\u0639\\u062F\\u0627\\u062F \\u062F\\u0631 \\u0628\\u0633\\u062A\\u0647:\"), data.numberinpuckets), React.createElement(\"text\", {\n    style: {\n      display: data.garantis.length < 1 ? 'none' : 'flex'\n    },\n    className: \"buytitletext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      color: '#44bd32',\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, \"\\u06AF\\u0627\\u0631\\u0627\\u0646\\u062A\\u06CC:\"), data.garantis), React.createElement(\"text\", {\n    style: {\n      display: data.country.length < 1 ? 'none' : 'flex'\n    },\n    className: \"buytitletext\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      color: '#44bd32',\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"\\u06A9\\u0634\\u0648\\u0631 \\u0633\\u0627\\u0632\\u0646\\u062F\\u0647:\"), data.country)), React.createElement(\"div\", {\n    className: \"buyprice\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"\\u0642\\u06CC\\u0645\\u062A:\"), React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      color: '#F79F1F',\n      fontWeight: 'bold'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, data.prices), \" \\u062A\\u0648\\u0645\\u0627\\u0646\"), React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"buynumber\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"\\u062A\\u0639\\u062F\\u0627\\u062F:\"), React.createElement(IconContext.Provider, {\n    value: {\n      color: '#F79F1F',\n      size: '25px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, React.createElement(FaPlus, {\n    onClick: () => plusnumber({\n      userid: data.user,\n      idpost: data._id\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"inputnumber\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, data.Count)), React.createElement(\"div\", {\n    style: {\n      display: data.Count > 1 ? 'flex' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(IconContext.Provider, {\n    value: {\n      color: '#F79F1F',\n      size: '25px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(FaMinus, {\n    onClick: () => subtractnumber({\n      userid: data.user,\n      idpost: data._id\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    style: {\n      display: data.Count == 1 ? 'flex' : 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(IconContext.Provider, {\n    value: {\n      color: 'red',\n      size: '25px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, React.createElement(AiOutlineDelete, {\n    onClick: () => deletebuy({\n      userid: data.user,\n      idpost: data._id\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }))))))))), React.createElement(\"div\", {\n    style: {\n      display: buydata.length < 1 ? 'none' : 'flex'\n    },\n    className: \"buysprices\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"text\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, \"\\u062C\\u0645\\u0639 \\u06A9\\u0644: \", sumprices, \" \\u062A\\u0648\\u0645\\u0627\\u0646\"), React.createElement(\"button\", {\n    className: \"buyspricesbutton\",\n    onClick: customer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, \"\\u062A\\u0635\\u0648\\u06CC\\u0647 \\u062D\\u0633\\u0627\\u0628\"))));\n};\n\nexport default Buys;","map":{"version":3,"sources":["C:/wamp64/www/my-app/src/components/pages/buys/buys.js"],"names":["React","Component","useContext","useEffect","useState","axios","Spinner","mainContext","Stufflistcontext","IconContext","AiOutlineDelete","FaPlus","FaMinus","Dropdown3","Buys","props","userid","login","buydata","setbuydata","sumprices","setsumprices","showspinner","setshowspinner","changesearchbar","modal","id","localStorage","getItem","get","then","response","data","BUY","allprices","plusnumber","idpost","dataa","JSON","stringify","put","status","window","location","reload","forcedReload","subtractnumber","console","log","deletebuy","delete","headers","customer","history","push","opacity","zIndex","marginTop","display","length","justifyContent","map","color","fontWeight","title","weight","memorys","numberinpuckets","garantis","country","prices","flexDirection","alignItems","size","user","_id","Count"],"mappings":"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","sourcesContent":["import React, { Component,useContext,useEffect,useState } from 'react'\r\nimport axios from 'axios';\r\nimport Spinner from './../../spinner/spinner';\r\nimport {mainContext} from './../../../context/mainContext';\r\nimport {Stufflistcontext} from './../../../context/stufflistcontext';\r\nimport { IconContext } from \"react-icons\";\r\nimport {AiOutlineDelete } from \"react-icons/ai\";\r\nimport { FaPlus,FaMinus } from \"react-icons/fa\";\r\nimport Dropdown3 from './../../Dropdown/Dropdown3/Dropdown3'\r\nimport './buys.css';\r\nconst Buys=(props)=>{\r\n   const {userid,login}=useContext(mainContext)\r\n   const[buydata,setbuydata]=useState([]);\r\n   const[sumprices,setsumprices]=useState('');\r\n   const [showspinner,setshowspinner]=useState(false);\r\n   const {changesearchbar,modal}=useContext(Stufflistcontext)\r\n   \r\n   \r\n   const id=localStorage.getItem('user');\r\n   //  console.log(id,'pppoooo')\r\n   useEffect(()=>{\r\n      \r\n      axios.get(`http://localhost:3000/user/buys/${id}`, { \r\n   })\r\n   .then((response)=>{\r\n      setbuydata(response.data.BUY)\r\n      // let allprices=0;\r\n      // response.data.map((data)=>{\r\n      //   allprices += Number(data.prices)*data.Count; \r\n      // })\r\n      \r\n      setsumprices(response.data.allprices)\r\n   })\r\n},[]);\r\n\r\nconst plusnumber=({userid,idpost})=>{\r\n   setshowspinner(true)\r\n   const dataa={\r\n      id:idpost,\r\n   }\r\n   const data=JSON.stringify(dataa)\r\n   axios.put(`http://localhost:3000/user/buys/plus/${userid}`,data ,{ \r\n})\r\n.then((response)=>{\r\n   if(response.status==200){\r\n      setshowspinner(false)\r\n      window.location.reload({forcedReload:true});\r\n   }\r\n   else{\r\n      setshowspinner(false)\r\n   } })\r\n}\r\nconst subtractnumber=({userid,idpost})=>{\r\n   setshowspinner(true)\r\n   const dataa={\r\n      id:idpost,\r\n   }\r\n   const data=JSON.stringify(dataa)\r\n   axios.put(`http://localhost:3000/user/buys/subtract/${userid}`,data ,{ \r\n})\r\n.then((response)=>{\r\n   console.log(response,'aaa')\r\n   if(response.status==200){\r\n      setshowspinner(false)\r\n      window.location.reload({forcedReload:true});\r\n   }\r\n   else{\r\n      setshowspinner(false)\r\n   }\r\n   \r\n})\r\n}\r\nconst  deletebuy=({userid,idpost})=>{\r\n   setshowspinner(true)\r\n   \r\n   const dataa={\r\n      id:idpost,\r\n   }\r\n   const data=JSON.stringify(dataa)\r\n   axios.delete(`http://localhost:3000/user/buys/delete/${userid}`,{headers: { \"id\": idpost } })\r\n   .then((response)=>{\r\n      \r\n      if(response.status==200){\r\n         setshowspinner(false)\r\n         window.location.reload(true);\r\n      }\r\n      else{\r\n         setshowspinner(false)\r\n      }\r\n      \r\n   })\r\n}\r\nconst  customer=()=>{\r\n   props.history.push('/customerdetail');\r\n}\r\n\r\nreturn(\r\n   \r\n   <div>\r\n                <div style={{opacity:modal?'0':'1',zIndex:1,marginTop:60}}  className=\"dropdownmenu\">\r\n    <Dropdown3 /> \r\n    </div>\r\n   <div style={{display:login?'flex':'none'}}  className=\"mainbuys\">\r\n   <div style={{display:buydata.length<1?'flex':'none',marginTop:100,justifyContent:'center'}}>\r\n   <text >سبدخرید شما خالیست</text>\r\n   </div>\r\n   <div className=\"spiner\"  style={{opacity:showspinner? 1 :0}}>\r\n   <Spinner/>\r\n   </div>\r\n   {buydata.map((data)=>\r\n      <div>\r\n      \r\n      <div  className=\"buydetail\">\r\n      <div className=\"mainimagebuy\">\r\n      <img src=\"https://www.beytoote.com/images/stories/housekeeping/hou16389.jpg\" className=\"buysImage\" />\r\n      </div>\r\n      <div className=\"buystitle\">\r\n      <text className=\"buytitletext\"> <span style={{color:'#44bd32',fontWeight:'bold'}}>نام کالا:</span>{data.title}</text>\r\n      <text style={{display:data.color.length<1?'none':'flex'}} className=\"buytitletext\"><span style={{color:'#44bd32',fontWeight:'bold'}}>رنگ:</span>{data.color}</text>\r\n      <text style={{display:data.weight.length<1?'none':'flex'}} className=\"buytitletext\"><span style={{color:'#44bd32',fontWeight:'bold'}}>وزن:</span>{data.weight}</text>\r\n      <text style={{display:data.memorys.length<1?'none':'flex'}} className=\"buytitletext\"><span style={{color:'#44bd32',fontWeight:'bold'}}>حافظه:</span>{data.memorys}</text>\r\n      <text style={{display:data.numberinpuckets.length<1?'none':'flex'}} className=\"buytitletext\"><span style={{color:'#44bd32',fontWeight:'bold'}}>تعداد در بسته:</span>{data.numberinpuckets}</text>\r\n      <text style={{display:data.garantis.length<1?'none':'flex'}} className=\"buytitletext\"><span style={{color:'#44bd32',fontWeight:'bold'}}>گارانتی:</span>{data.garantis}</text>\r\n      <text style={{display:data.country.length<1?'none':'flex'}} className=\"buytitletext\"><span style={{color:'#44bd32',fontWeight:'bold'}}>کشور سازنده:</span>{data.country}</text>\r\n      \r\n      \r\n      </div>\r\n      <div className=\"buyprice\">\r\n      <text>قیمت:</text>\r\n      <text ><span style={{color:'#F79F1F',fontWeight:'bold'}}>{data.prices}</span> تومان</text>\r\n      \r\n      <div style={{display:'flex',flexDirection:'column',alignItems:'center'}}>\r\n      {/* <div className=\"mainbuttonbuy\"> */}\r\n      <div className=\"buynumber\" >\r\n      <text>تعداد:</text>\r\n      <IconContext.Provider\r\n      value={{ color: '#F79F1F', size: '25px'}}>\r\n      <FaPlus   onClick={()=>plusnumber({userid:data.user,idpost:data._id})}/> \r\n      </IconContext.Provider>\r\n      \r\n      <div className=\"inputnumber\">\r\n      <text>{data.Count}</text>\r\n      </div>\r\n      {/* <input defaultValue={data.Count} className=\"inputnumber\"/> */}\r\n      <div style={{display:data.Count >1 ?'flex':'none'}}>\r\n      <IconContext.Provider\r\n      value={{ color: '#F79F1F', size: '25px'}}>\r\n      <FaMinus   onClick={()=>subtractnumber({userid:data.user,idpost:data._id})}/> \r\n      </IconContext.Provider>\r\n      </div>\r\n      <div style={{display:data.Count ==1 ?'flex':'none'}}>\r\n      <IconContext.Provider\r\n      value={{ color: 'red', size: '25px'}}>\r\n      <AiOutlineDelete   onClick={()=>deletebuy({userid:data.user,idpost:data._id})}/> \r\n      </IconContext.Provider>\r\n      </div>\r\n      </div>\r\n      {/* <button  className=\"buttonbuy\"><text>{buyicon}</text>افزودن به سبد خرید</button> */}\r\n      {/* </div> */}\r\n      </div>\r\n      </div>\r\n      </div>\r\n      </div>\r\n      )}\r\n     \r\n      <div style={{display:buydata.length<1?'none':'flex'}} className=\"buysprices\">\r\n      <text>جمع کل: {sumprices} تومان</text>\r\n      <button className=\"buyspricesbutton\" onClick={customer}>تصویه حساب</button>\r\n      </div>\r\n      </div> \r\n    \r\n      </div>\r\n      )\r\n   }\r\n   export default Buys;"]},"metadata":{},"sourceType":"module"}